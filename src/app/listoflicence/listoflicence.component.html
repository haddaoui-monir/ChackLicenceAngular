<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.0/js/bootstrap.min.js"></script>
<script src="//code.jquery.com/jquery-1.11.1.min.js"></script>
<script src="sweetalert2.all.min.js"></script>
<!-- Optional: include a polyfill for ES6 Promises for IE11 -->
<script src="https://cdn.jsdelivr.net/npm/promise-polyfill"></script>
<script src="sweetalert2.all.min.js"></script>
<!-- Optional: include a polyfill for ES6 Promises for IE11 -->

<div>
    <h4>
        <span class=" badge-secondary  ex1"> Check Licences</span></h4>
</div>
<!-- <button (click)="showToastr()">show toast</button> -->
<br>
<!-- Toast alert -->
<!-- <div *ngFor="let licence of licences">
    <div *ngIf="licence.expiration <30">

        <div  role="alert">
            <button type="button" class="close" aria-label="Close" (click)=showToaster()>
                    <span aria-hidden="true">&times;</span>
            </button> 
        </div>
        Licence of <b>{{licence.client}}</b> will be expired in
        <b>{{licence.datefin | date |uppercase}}</b>

    </div>
</div> -->
<!-- <div class="alert alert-success" *ngIf="message">
    {{message}}
</div> -->

<div class="container">
    <input type="text" #myInput [(ngModel)]="client" (input)="Search()" placeholder="Recherche client.." />
</div>

<div class=" container ">
    <table class="table " id="myTable ">
        <thead>
            <tr class="header ">
                <th>Client</th>
                <th>Date debut</th>
                <th>Date fin</th>
                <th>Expiration</th>
                <th>Description</th>
                <th></th>
                <th></th>
                <th text-align="center "><span class=" glyphicon glyphicon-wrench " aria-hidden="true "></span></th>
            </tr>
        </thead>
        <tbody>
            <!-- *ngFor="let client of clients " -->
            <tr *ngFor="let licence of licences ">


                <div>
                    <td>
                        <b>    {{licence.name}} </b>
                    </td>
                </div>
                <td>{{licence.datedebut | date |uppercase}}</td>
                <td>{{licence.datefin | date |uppercase}}</td>
                <td *ngIf="licence.expiration <30 ">
                    <span class="badge ex2 badge-pill badge-danger ">{{licence.expiration}} jours </span>
                </td>
                <td *ngIf="licence.expiration>=30"> {{licence.expiration}} jours
                </td>
                <td>{{licence.description}}</td>
                <td>
                    <fa-icon [icon]="faEye" data-title="ClÃ©" (click)="copyInputMessage(keyinput)">
                    </fa-icon>
                </td>
                <td>
                    <input class="form-control" type="text" maxlength="2" size="2" value="{{licence.licencekey}}" placeholder="{{licence.licencekey}}" readonly #keyinput>
                </td>
                <td align="center">
                    <a class="btn btn-default"><span class="glyphicon glyphicon-pencil"
                                                     aria-hidden="true" 
                                                     title="Modifier" button (click)="updateLicence(licence.id)" ></span></a>
                    <a class="btn btn-danger"><span class="glyphicon glyphicon-trash"
                                                    aria-hidden="true" title="Supprimer"  
                                                    (click)="confirmDelete(licence.id)"></span></a>
                </td>
            </tr>
        </tbody>
    </table>
    <div class="row container ">
        <button (click)="AddLicence() " class="button button2"> Ajouter Licence </button>
    </div>
</div>
<!-- <li *ngFor="let user of userObservable | async as users; index as i; first as isFirst">
    {{i}}/{{users.length}}. {{user}} <span *ngIf="isFirst">default</span>
  </li> -->
<!-- <li *ngFor="let licence of licences ; trackBy: trackElement" >
    {{licence.client}}
</li> -->
<!-- <div *ngIf="userClaims ">
    <input type="hidden " #Username="ngModel " [(ngModel)]="userClaims.Username " [value]="list.Username " name="Username ">
  </div> -->